# –ß—Ç–æ —Ç–∞–∫–æ–µ XSS (Cross-Site Scripting)?

**–û—Ç–≤–µ—Ç:**

**XSS** ‚Äî —Ö–∞–∫–µ—Ä –≤–Ω–µ–¥—Ä—è–µ—Ç —Å–≤–æ–π JavaScript –∫–æ–¥ –≤ –≤–∞—à —Å–∞–π—Ç. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π –∫–æ–¥, –¥—É–º–∞—è —á—Ç–æ —ç—Ç–æ –≤–∞—à —Å–∞–π—Ç.

```javascript
// üîç –ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞—Ç–∞–∫–∞:

// ‚ùå –û–ü–ê–°–ù–û - –£—è–∑–≤–∏–º—ã–π –∫–æ–¥
const userInput = '<script>alert("–•–∞–∫–µ—Ä —É–∫—Ä–∞–ª –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ!")</script>';
document.getElementById('welcome').innerHTML = '–ü—Ä–∏–≤–µ—Ç, ' + userInput;
// Script –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è! üí•

// ‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û - –ó–∞—â–∏—â–µ–Ω–Ω—ã–π –∫–æ–¥  
document.getElementById('welcome').textContent = '–ü—Ä–∏–≤–µ—Ç, ' + userInput;
// Script –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –∫–∞–∫ —Ç–µ–∫—Å—Ç

// üõ°Ô∏è –ó–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é
function sanitizeInput(str) {
  const escapeMap = {
    '<': '&lt;',      // < —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è &lt;
    '>': '&gt;',      // > —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è &gt;
    '&': '&amp;',     // & —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è &amp;
    '"': '&quot;',    // " —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è &quot;
    "'": '&#x27;'     // ' —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è &#x27;
  };
  
  return str.replace(/[<>&"']/g, match => escapeMap[match]);
}

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const safeInput = sanitizeInput(userInput);
document.getElementById('welcome').innerHTML = '–ü—Ä–∏–≤–µ—Ç, ' + safeInput;

// üîç –¢—Ä–∏ —Ç–∏–ø–∞ XSS:

// 1Ô∏è‚É£ REFLECTED XSS (–æ—Ç—Ä–∞–∂–µ–Ω–Ω—ã–π) - —á–µ—Ä–µ–∑ URL
// https://site.com/search?q=<script>—Å—Ç–µ–ª–∞—Ç—å –¥–∞–Ω–Ω—ã–µ</script>

// 2Ô∏è‚É£ STORED XSS (—Ö—Ä–∞–Ω–∏–º—ã–π) - –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
// –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "<script>—É–∫—Ä–∞—Å—Ç—å cookies</script>"

// 3Ô∏è‚É£ DOM-BASED XSS - —á–µ—Ä–µ–∑ JavaScript
location.hash = '<script>–≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π –∫–æ–¥</script>';
```

**üß† –ö–∞–∫ –∑–∞–ø–æ–º–Ω–∏—Ç—å?**
**XSS** = **Cross-Site Scripting** = —á—É–∂–æ–π —Å–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ

**üõ°Ô∏è –ö–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å—Å—è?**
- **textContent** –≤–º–µ—Å—Ç–æ innerHTML
- **–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è** –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **CSP –∑–∞–≥–æ–ª–æ–≤–∫–∏** (Content Security Policy)
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**

**‚ö†Ô∏è –ß—Ç–æ –º–æ–∂–µ—Ç —É–∫—Ä–∞—Å—Ç—å —Ö–∞–∫–µ—Ä?**
- Cookies –∏ —Ç–æ–∫–µ–Ω—ã
- –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ú–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**üîí –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
1. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É –≤–≤–æ–¥—É
2. –í—Å–µ–≥–¥–∞ —ç–∫—Ä–∞–Ω–∏—Ä—É–π—Ç–µ HTML —Å–∏–º–≤–æ–ª—ã
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ textContent –≤–º–µ—Å—Ç–æ innerHTML

**–í—ã–≤–æ–¥:**
XSS ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ —á—É–∂–æ–π –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ. –í—Å–µ–≥–¥–∞ –æ—á–∏—â–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥!