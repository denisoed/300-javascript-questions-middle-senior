# –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö Observer, Pub/Sub. –ß–µ–º –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è? –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö, –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö API).

**–û—Ç–≤–µ—Ç:**

**Observer** ‚Äî –æ–±—ä–µ–∫—Ç —Å–ª–µ–¥–∏—Ç –∑–∞ –¥—Ä—É–≥–∏–º –æ–±—ä–µ–∫—Ç–æ–º **–Ω–∞–ø—Ä—è–º—É—é**.  
**Pub/Sub** ‚Äî –æ–±—ä–µ–∫—Ç—ã –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ **–ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞**, –Ω–µ –∑–Ω–∞—é—Ç –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ.

```javascript
// üîç OBSERVER PATTERN - –ø—Ä—è–º–∞—è —Å–≤—è–∑—å

class NewsAgency {
  constructor() {
    this.observers = [];  // –°–ø–∏—Å–æ–∫ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π
    this.news = '';
  }
  
  // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  subscribe(observer) {
    this.observers.push(observer);
  }
  
  // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π
  setNews(news) {
    this.news = news;
    this.observers.forEach(observer => observer.update(news));
  }
}

class NewsChannel {
  constructor(name) {
    this.name = name;
  }
  
  update(news) {
    console.log(`${this.name} –ø–æ–ª—É—á–∏–ª –Ω–æ–≤–æ—Å—Ç—å: ${news}`);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Observer
const agency = new NewsAgency();
const channel1 = new NewsChannel('–†–ë–ö');
const channel2 = new NewsChannel('–í–µ–¥–æ–º–æ—Å—Ç–∏');

agency.subscribe(channel1);  // –ü—Ä—è–º–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
agency.subscribe(channel2);  // –ü—Ä—è–º–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
agency.setNews('–í–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏!');

// üîç PUB/SUB PATTERN - —á–µ—Ä–µ–∑ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞

class EventBus {
  constructor() {
    this.events = {};  // –•—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ–±—ã—Ç–∏–π
  }
  
  // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ
  subscribe(event, callback) {
    if (!this.events[event]) {
      this.events[event] = [];
    }
    this.events[event].push(callback);
  }
  
  // –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è
  publish(event, data) {
    if (this.events[event]) {
      this.events[event].forEach(callback => callback(data));
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Pub/Sub
const eventBus = new EventBus();

// –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ –Ω–µ –∑–Ω–∞—é—Ç –æ –∏–∑–¥–∞—Ç–µ–ª–µ
eventBus.subscribe('user-login', (user) => {
  console.log(`–ê–Ω–∞–ª–∏—Ç–∏–∫–∞: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${user.name} –≤–æ—à–µ–ª`);
});

eventBus.subscribe('user-login', (user) => {
  console.log(`Email: –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è ${user.name}`);
});

// –ò–∑–¥–∞—Ç–µ–ª—å –Ω–µ –∑–Ω–∞–µ—Ç –æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞—Ö
eventBus.publish('user-login', { name: '–ò–≤–∞–Ω' });
```

**ü§î –ì–ª–∞–≤–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞:**
- **Observer**: `subject.subscribe(observer)` ‚Äî –∑–Ω–∞—é—Ç –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ
- **Pub/Sub**: `eventBus.subscribe('event', callback)` ‚Äî –Ω–µ –∑–Ω–∞—é—Ç –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ

**üåê –ü—Ä–∏–º–µ—Ä—ã –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö:**

```javascript
// DOM Events (Pub/Sub)
button.addEventListener('click', handleClick);  // –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä-–ø–æ—Å—Ä–µ–¥–Ω–∏–∫

// Vue.js —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (Observer)
data() {
  return { message: 'Hello' };  // Vue —Å–ª–µ–¥–∏—Ç –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
}

// Redux (Observer)
store.subscribe(() => {
  console.log('State changed:', store.getState());
});

// Node.js EventEmitter (Pub/Sub)
const events = require('events');
const emitter = new events.EventEmitter();

emitter.on('data', (data) => console.log(data));
emitter.emit('data', 'Hello World');
```

**üß† –ö–∞–∫ –∑–∞–ø–æ–º–Ω–∏—Ç—å?**
- **Observer** = –ø—Ä—è–º–æ–π **–æ–±–∑–æ—Ä** (subject ‚Üí observer)
- **Pub/Sub** = –ø–æ—á—Ç–æ–≤—ã–π **–∞–≤—Ç–æ–±—É—Å** (publisher ‚Üí eventBus ‚Üí subscriber)

**üìä –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**
- **Observer** ‚Üí –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç—ã —Å–≤—è–∑–∞–Ω—ã –ø–æ –ª–æ–≥–∏–∫–µ
- **Pub/Sub** ‚Üí –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ —Å–ª–∞–±–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π

**–í—ã–≤–æ–¥:**
Observer ‚Äî –ø—Ä—è–º–∞—è —Å–≤—è–∑—å, Pub/Sub ‚Äî —á–µ—Ä–µ–∑ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞. –û–±–∞ –ø–æ–º–æ–≥–∞—é—Ç –æ–±—ä–µ–∫—Ç–∞–º —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è.