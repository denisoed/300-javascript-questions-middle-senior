# Currying (–∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ) - —á—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º –Ω—É–∂–Ω–æ?

üéØ **–û—Ç–≤–µ—Ç:** Currying –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –≤ —Ü–µ–ø–æ—á–∫—É —Ñ—É–Ω–∫—Ü–∏–π —Å –æ–¥–Ω–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º. –ö–∞–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä: –≤–º–µ—Å—Ç–æ "—Å–æ–±—Ä–∞—Ç—å –≤—Å—ë —Å—Ä–∞–∑—É", —Å–æ–±–∏—Ä–∞–µ–º "–ø–æ —á–∞—Å—Ç—è–º".

**üîç –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–Ω—Ü–∏–ø:**

```javascript
// üîç –û–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è - –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ä–∞–∑—É
function normalAdd(a, b, c) {
  return a + b + c;
}

console.log(normalAdd(1, 2, 3)); // 6
// ‚ùå –ù—É–∂–Ω—ã –í–°–ï –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ä–∞–∑—É

// üîç –ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è - –ø–æ –æ–¥–Ω–æ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä—É
function curriedAdd(a) {
  return function(b) {
    return function(c) {
      return a + b + c;
    };
  };
}

// –ú–æ–∂–µ–º –≤—ã–∑—ã–≤–∞—Ç—å —á–∞—Å—Ç—è–º–∏!
const add1 = curriedAdd(1);      // –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª–∏ –ø–µ—Ä–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
const add1and2 = add1(2);        // –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª–∏ –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä  
const result = add1and2(3);      // –ü–æ–ª—É—á–∏–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 6

// –ò–ª–∏ –≤—Å–µ —Å—Ä–∞–∑—É
console.log(curriedAdd(1)(2)(3)); // 6

// üîç –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Å–æ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
const modernCurriedAdd = a => b => c => a + b + c;
console.log(modernCurriedAdd(1)(2)(3)); // 6
```

**üîç –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:**

```javascript
// üîç 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
const multiply = a => b => a * b;

const double = multiply(2);      // –£–¥–≤–∞–∏–≤–∞–µ—Ç —á–∏—Å–ª–æ
const triple = multiply(3);      // –£—Ç—Ä–∞–∏–≤–∞–µ—Ç —á–∏—Å–ª–æ
const byTen = multiply(10);      // –£–º–Ω–æ–∂–∞–µ—Ç –Ω–∞ 10

console.log(double(5));  // 10
console.log(triple(4));  // 12
console.log(byTen(7));   // 70

// üîç 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–≥–µ—Ä–∞
const createLogger = level => message => data => {
  const timestamp = new Date().toISOString();
  console.log(`[${timestamp}] [${level}] ${message}`, data);
};

const logError = createLogger('ERROR');
const logInfo = createLogger('INFO');
const logDebug = createLogger('DEBUG');

// –£–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
logError('Database connection failed', { host: 'localhost', port: 5432 });
logInfo('User logged in', { userId: 123, username: 'ivan' });
logDebug('Cache hit', { key: 'user:123', ttl: 300 });

// üîç 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
const createValidator = rule => field => value => {
  switch (rule) {
    case 'required':
      return value ? null : `${field} –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è`;
    case 'email':
      return /\S+@\S+\.\S+/.test(value) ? null : `${field} –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å email`;
    case 'minLength':
      return value.length >= 3 ? null : `${field} –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞`;
    default:
      return null;
  }
};

const validateRequired = createValidator('required');
const validateEmail = createValidator('email');
const validateMinLength = createValidator('minLength');

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–ª—è —Ñ–æ—Ä–º—ã
const validateName = validateRequired('–ò–º—è');
const validateUserEmail = validateEmail('Email');
const validatePassword = validateMinLength('–ü–∞—Ä–æ–ª—å');

console.log(validateName(''));           // "–ò–º—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è"
console.log(validateUserEmail('test'));  // "Email –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å email"
console.log(validatePassword('12'));     // "–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞"
```

**üîç –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è curry:**

```javascript
// üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ª—é–±–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
function curry(func) {
  return function curried(...args) {
    // –ï—Å–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ –≤—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã - –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é
    if (args.length >= func.length) {
      return func.apply(this, args);
    }
    
    // –ò–Ω–∞—á–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –æ–∂–∏–¥–∞—é—â—É—é –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
    return function(...moreArgs) {
      return curried.apply(this, args.concat(moreArgs));
    };
  };
}

// –ü—Ä–∏–º–µ–Ω—è–µ–º –∫ –ª—é–±–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
const sum = (a, b, c) => a + b + c;
const curriedSum = curry(sum);

// –í—Å–µ —ç—Ç–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç!
console.log(curriedSum(1)(2)(3));    // 6
console.log(curriedSum(1, 2)(3));    // 6  
console.log(curriedSum(1)(2, 3));    // 6
console.log(curriedSum(1, 2, 3));    // 6

// üîç –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
const users = [
  { name: '–ò–≤–∞–Ω', age: 25, role: 'admin' },
  { name: '–ú–∞—Ä–∏—è', age: 30, role: 'user' },
  { name: '–ü–µ—Ç—Ä', age: 35, role: 'admin' }
];

// –ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
const prop = curry((property, obj) => obj[property]);
const equals = curry((value, item) => item === value);
const filter = curry((predicate, array) => array.filter(predicate));

// –°–æ–∑–¥–∞–µ–º —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
const getName = prop('name');
const getAge = prop('age');  
const getRole = prop('role');
const isAdmin = equals('admin');
const isUser = equals('user');

// –§–∏–ª—å—Ç—Ä—É–µ–º –∞–¥–º–∏–Ω–æ–≤
const getAdmins = filter(user => isAdmin(getRole(user)));
const admins = getAdmins(users);
console.log(admins); // [{ name: '–ò–≤–∞–Ω', age: 25, role: 'admin' }, { name: '–ü–µ—Ç—Ä', age: 35, role: 'admin' }]
```

**üß† –ú–Ω–µ–º–æ–Ω–∏–∫–∞ –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:**

- **Curry** = "**–ö—É—Ä-—Ä–∏**" = "**–ü–æ –∫—É—Å–∫–∞–º**" (–∫—É—à–∞—Ç—å –ø–æ –∫—É—Å–∫–∞–º)
- **–û–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è** = "**–ë–æ–ª—å—à–∞—è —Ç–∞—Ä–µ–ª–∫–∞**" (–≤—Å—ë —Å—Ä–∞–∑—É)
- **–ö–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è** = "**–ú–∞–ª–µ–Ω—å–∫–∏–µ –ø–æ—Ä—Ü–∏–∏**" (–ø–æ –∫—É—Å–æ—á–∫—É)

**‚ö° –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:**

```javascript
// üîç 1. HTTP –∑–∞–ø—Ä–æ—Å—ã
const request = curry((method, url, headers, data) => {
  return fetch(url, { method, headers, body: JSON.stringify(data) });
});

const get = request('GET');
const post = request('POST');
const withJsonHeaders = post('/api/users', { 'Content-Type': 'application/json' });

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
get('/api/users')();  // GET –∑–∞–ø—Ä–æ—Å
withJsonHeaders({ name: '–ò–≤–∞–Ω', age: 25 }); // POST —Å –¥–∞–Ω–Ω—ã–º–∏

// üîç 2. –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
const mathOp = curry((operation, a, b) => {
  switch (operation) {
    case 'add': return a + b;
    case 'multiply': return a * b;
    case 'divide': return a / b;
    case 'subtract': return a - b;
  }
});

const add = mathOp('add');
const multiply = mathOp('multiply');

const addTen = add(10);
const multiplyByTwo = multiply(2);

console.log(addTen(5));        // 15
console.log(multiplyByTwo(7)); // 14

// üîç 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
const createButton = curry((type, size, color, text) => {
  return `<button class="${type} ${size} ${color}">${text}</button>`;
});

const primaryButton = createButton('primary');
const largeButton = primaryButton('large');
const redButton = largeButton('red');

console.log(redButton('–ù–∞–∂–º–∏ –º–µ–Ω—è')); // <button class="primary large red">–ù–∞–∂–º–∏ –º–µ–Ω—è</button>
```

**‚ö° Currying vs Partial Application:**

```javascript
// üîç Currying - –≤—Å–µ–≥–¥–∞ –ø–æ –æ–¥–Ω–æ–º—É –∞—Ä–≥—É–º–µ–Ω—Ç—É
const curriedAdd = a => b => c => a + b + c;
curriedAdd(1)(2)(3); // –¢–æ–ª—å–∫–æ —Ç–∞–∫

// üîç Partial Application - –º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
function partialAdd(a, b, c) {
  return a + b + c;
}

const partial = partialAdd.bind(null, 1); // –§–∏–∫—Å–∏—Ä—É–µ–º –ø–µ—Ä–≤—ã–π
console.log(partial(2, 3)); // 6 (–ø–µ—Ä–µ–¥–∞–µ–º —Å—Ä–∞–∑—É –¥–≤–∞ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è)
```

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:** Currying –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –≤ "–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã" - –º–æ–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ —á–∞—Å—Ç—è–º, —Å–æ–∑–¥–∞–≤–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏. –û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

41. **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π**

üéØ **–ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –ú–µ–º–æ–∏–∑–∞—Ü–∏—è ‚Äî —ç—Ç–æ "–ø–∞–º—è—Ç—å" –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π. –§—É–Ω–∫—Ü–∏—è –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Å–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–∞–Ω–æ–≤–æ.

**üîç –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**

```javascript
// üîç –ë–µ–∑ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ - –∫–∞–∂–¥—ã–π —Ä–∞–∑ —Å—á–∏—Ç–∞–µ–º –∑–∞–Ω–æ–≤–æ
function slowFibonacci(n) {
  console.log(`–°—á–∏—Ç–∞–µ–º fibonacci(${n})`);
  if (n <= 1) return n;
  return slowFibonacci(n - 1) + slowFibonacci(n - 2);
}

// –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ!
console.log(slowFibonacci(10)); // –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ —á–∏—Å–µ–ª

// üîç –° –º–µ–º–æ–∏–∑–∞—Ü–∏–µ–π - –∑–∞–ø–æ–º–∏–Ω–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
function memoize(func) {
  const cache = new Map(); // –ü–∞–º—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏
  
  return function(...args) {
    const key = JSON.stringify(args); // –ö–ª—é—á –¥–ª—è –ø–æ–∏—Å–∫–∞
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–∞–º—è—Ç–∏
    if (cache.has(key)) {
      console.log(`üì¶ –ò–∑ –∫—ç—à–∞: ${key}`);
      return cache.get(key);
    }
    
    // –ï—Å–ª–∏ –Ω–µ—Ç - –≤—ã—á–∏—Å–ª—è–µ–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ–º
    console.log(`üîÑ –í—ã—á–∏—Å–ª—è–µ–º: ${key}`);
    const result = func.apply(this, args);
    cache.set(key, result);
    
    return result;
  };
}

// –ü—Ä–∏–º–µ–Ω—è–µ–º –º–µ–º–æ–∏–∑–∞—Ü–∏—é
const fastFibonacci = memoize(function(n) {
  if (n <= 1) return n;
  return fastFibonacci(n - 1) + fastFibonacci(n - 2);
});

console.log(fastFibonacci(10)); // –ë—ã—Å—Ç—Ä–æ! –ö–∞–∂–¥–æ–µ —á–∏—Å–ª–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
```

**üîç –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã:**

```javascript
// üîç 1. –î–æ—Ä–æ–≥–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
const expensiveMath = memoize(function(base, power) {
  console.log(`–í—ã—á–∏—Å–ª—è–µ–º ${base}^${power}`);
  
  // –°–∏–º—É–ª—è—Ü–∏—è –¥–æ—Ä–æ–≥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
  let result = 1;
  for (let i = 0; i < power; i++) {
    result *= base;
    // –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
    for (let j = 0; j < 1000000; j++) {}
  }
  
  return result;
});

console.time('–ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤');
console.log(expensiveMath(2, 10)); // 1024 - –¥–æ–ª–≥–æ
console.timeEnd('–ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤');

console.time('–í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤');
console.log(expensiveMath(2, 10)); // 1024 - –º–≥–Ω–æ–≤–µ–Ω–Ω–æ!
console.timeEnd('–í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤');

// üîç 2. API –∑–∞–ø—Ä–æ—Å—ã
const memoizedFetch = memoize(async function(url) {
  console.log(`üåê –ó–∞–ø—Ä–æ—Å –∫: ${url}`);
  const response = await fetch(url);
  return response.json();
});

// –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ–π–¥–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
const user1 = await memoizedFetch('/api/users/123');

// –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –≤–µ—Ä–Ω–µ—Ç—Å—è –∏–∑ –∫—ç—à–∞
const user2 = await memoizedFetch('/api/users/123'); // –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ!

// üîç 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å—Ç—ã—Ö —á–∏—Å–µ–ª
const isPrime = memoize(function(n) {
  console.log(`–ü—Ä–æ–≤–µ—Ä—è–µ–º ${n} –Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç—É`);
  
  if (n <= 1) return false;
  if (n <= 3) return true;
  if (n % 2 === 0 || n % 3 === 0) return false;
  
  for (let i = 5; i * i <= n; i += 6) {
    if (n % i === 0 || n % (i + 2) === 0) {
      return false;
    }
  }
  return true;
});

console.log(isPrime(97));   // –í—ã—á–∏—Å–ª—è–µ–º
console.log(isPrime(97));   // –ò–∑ –∫—ç—à–∞
console.log(isPrime(101));  // –í—ã—á–∏—Å–ª—è–µ–º
console.log(isPrime(97));   // –ò–∑ –∫—ç—à–∞
```

**üîç –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏:**

```javascript
// üîç 1. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Ä–∞–∑–º–µ—Ä–∞ –∫—ç—à–∞ (LRU)
function memoizeLRU(func, maxSize = 100) {
  const cache = new Map();
  
  return function(...args) {
    const key = JSON.stringify(args);
    
    if (cache.has(key)) {
      // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –≤ –∫–æ–Ω–µ—Ü (–Ω–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π)
      const value = cache.get(key);
      cache.delete(key);
      cache.set(key, value);
      return value;
    }
    
    // –£–¥–∞–ª—è–µ–º —Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π —ç–ª–µ–º–µ–Ω—Ç –µ—Å–ª–∏ –∫—ç—à –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω
    if (cache.size >= maxSize) {
      const oldestKey = cache.keys().next().value;
      cache.delete(oldestKey);
      console.log(`üóëÔ∏è –£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π –∫—ç—à: ${oldestKey}`);
    }
    
    const result = func.apply(this, args);
    cache.set(key, result);
    
    return result;
  };
}

// üîç 2. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º (TTL)
function memoizeWithTTL(func, ttlMs = 60000) {
  const cache = new Map();
  
  return function(...args) {
    const key = JSON.stringify(args);
    const now = Date.now();
    
    if (cache.has(key)) {
      const cached = cache.get(key);
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ –∏—Å—Ç–µ–∫ –ª–∏ —Å—Ä–æ–∫
      if (now - cached.timestamp < ttlMs) {
        console.log(`‚è∞ –ò–∑ –∫—ç—à–∞ (${Math.round((now - cached.timestamp) / 1000)}—Å –Ω–∞–∑–∞–¥)`);
        return cached.value;
      } else {
        cache.delete(key);
        console.log(`‚è∞ –ö—ç—à –∏—Å—Ç–µ–∫, —É–¥–∞–ª—è–µ–º: ${key}`);
      }
    }
    
    const result = func.apply(this, args);
    cache.set(key, {
      value: result,
      timestamp: now
    });
    
    return result;
  };
}

// –ü—Ä–∏–º–µ—Ä: –∫—ç—à–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞ 5 —Å–µ–∫—É–Ω–¥
const getWeather = memoizeWithTTL(function(city) {
  console.log(`üå§Ô∏è –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –ø–æ–≥–æ–¥—É –¥–ª—è ${city}`);
  return {
    city,
    temperature: Math.round(Math.random() * 30),
    timestamp: new Date().toLocaleTimeString()
  };
}, 5000);

console.log(getWeather('–ú–æ—Å–∫–≤–∞'));  // –ó–∞–ø—Ä–æ—Å
console.log(getWeather('–ú–æ—Å–∫–≤–∞'));  // –ò–∑ –∫—ç—à–∞

// –ß–µ—Ä–µ–∑ 6 —Å–µ–∫—É–Ω–¥
setTimeout(() => {
  console.log(getWeather('–ú–æ—Å–∫–≤–∞')); // –ù–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (–∫—ç—à –∏—Å—Ç–µ–∫)
}, 6000);
```

**üß† –ú–Ω–µ–º–æ–Ω–∏–∫–∞ –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:**

- **Memoization** = "**–ú–µ–º–æ**—Ä–∏" (–ø–∞–º—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏)
- **Cache** = "**–ö–∞—à–∞**" (—Å–∫–ª–∞–¥ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏)
- **Hit** = "**–•–∏—Ç**" (–ø–æ–ø–∞–¥–∞–Ω–∏–µ –≤ –∫—ç—à)
- **Miss** = "**–ú–∏—Å—Å**" (–ø—Ä–æ–º–∞—Ö - –Ω—É–∂–Ω–æ –≤—ã—á–∏—Å–ª—è—Ç—å)

**‚ö° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–º–æ–∏–∑–∞—Ü–∏—é:**

```javascript
// ‚úÖ –•–û–†–û–®–ò–ï —Å–ª—É—á–∞–∏:

// 1. –ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–æ–¥–∏–Ω –≤—Ö–æ–¥ = –æ–¥–∏–Ω –≤—ã—Ö–æ–¥)
const pureFunction = memoize((x, y) => x * y + Math.sqrt(x));

// 2. –î–æ—Ä–æ–≥–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
const expensiveCalc = memoize((data) => {
  // –°–ª–æ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–∏–≤–∞
  return data.map(x => Math.pow(x, 10)).filter(x => x > 1000);
});

// 3. –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
const memoizedFactorial = memoize(n => 
  n <= 1 ? 1 : n * memoizedFactorial(n - 1)
);

// 4. API –∑–∞–ø—Ä–æ—Å—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
const searchUsers = memoize(query => fetch(`/api/search?q=${query}`));

// ‚ùå –ü–õ–û–•–ò–ï —Å–ª—É—á–∞–∏:

// 1. –§—É–Ω–∫—Ü–∏–∏ —Å –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
const badExample1 = memoize(() => {
  console.log('Side effect!'); // ‚ùå –ü–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
  return Math.random(); // ‚ùå –í—Å–µ–≥–¥–∞ —Ä–∞–∑–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
});

// 2. –§—É–Ω–∫—Ü–∏–∏ —Å —Ä–µ–¥–∫–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º–∏—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
const badExample2 = memoize(timestamp => 
  new Date(timestamp).toLocaleString() // ‚ùå –ö–∞–∂–¥—ã–π timestamp —É–Ω–∏–∫–∞–ª–µ–Ω
);

// 3. –ö–æ–≥–¥–∞ –ø–∞–º—è—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞
const memoryHeavy = memoize(data => 
  data.map(x => new Array(1000000).fill(x)) // ‚ùå –°—ä–µ–¥–∞–µ—Ç –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏
);
```

**‚ö° –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –≤ –∫–ª–∞—Å—Å–∞—Ö:**

```javascript
// üîç –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞
class DataProcessor {
  constructor() {
    // –ú–µ–º–æ–∏–∑–∏—Ä—É–µ–º –º–µ—Ç–æ–¥ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
    this.processData = memoize(this.processData.bind(this));
  }
  
  processData(dataset) {
    console.log(`–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º ${dataset.length} —ç–ª–µ–º–µ–Ω—Ç–æ–≤`);
    
    // –¢—è–∂–µ–ª–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
    return dataset
      .filter(x => x > 0)
      .map(x => Math.sqrt(x))
      .sort((a, b) => b - a);
  }
}

const processor = new DataProcessor();
const data = [1, 4, 9, 16, 25];

console.log(processor.processData(data)); // –í—ã—á–∏—Å–ª—è–µ–º
console.log(processor.processData(data)); // –ò–∑ –∫—ç—à–∞
```

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:** –ú–µ–º–æ–∏–∑–∞—Ü–∏—è ‚Äî –º–æ—â–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è —á–∏—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å –¥–æ—Ä–æ–≥–∏–º–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º–∏. –ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –±—ã—Å—Ç—Ä—ã–µ, –∑–∞–ø–æ–º–∏–Ω–∞—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –ì–ª–∞–≤–Ω–æ–µ ‚Äî –Ω–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å –∏ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ø–∞–º—è—Ç—å—é!