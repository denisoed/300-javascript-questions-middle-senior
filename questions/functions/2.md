# –ß–µ–π–Ω–∏–Ω–≥ —Ñ—É–Ω–∫—Ü–∏–π - —Å—Ç—Ä–æ–∏–º —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤

üéØ **–û—Ç–≤–µ—Ç:** –ß–µ–π–Ω–∏–Ω–≥ ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –º–µ—Ç–æ–¥—ã –æ–±—ä–µ–∫—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–∞–º –æ–±—ä–µ–∫—Ç (`return this`), –ø–æ–∑–≤–æ–ª—è—è –≤—ã–∑—ã–≤–∞—Ç—å –∏—Ö –ø–æ–¥—Ä—è–¥ —Ü–µ–ø–æ—á–∫–æ–π. –ö–∞–∫ –∫–æ–Ω–≤–µ–π–µ—Ä: —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Å—Ä–∞–∑—É –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–µ–º—É.

**üîç –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø:**

```javascript
// üîç –ë–µ–∑ —á–µ–π–Ω–∏–Ω–≥–∞ - –º–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
class Calculator {
  constructor(value = 0) {
    this.value = value;
  }
  
  add(num) {
    this.value += num;
    // ‚ùå –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º this - –Ω–µ—Ç —á–µ–π–Ω–∏–Ω–≥–∞
  }
  
  multiply(num) {
    this.value *= num;
    // ‚ùå –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º this - –Ω–µ—Ç —á–µ–π–Ω–∏–Ω–≥–∞
  }
  
  result() {
    return this.value;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ —á–µ–π–Ω–∏–Ω–≥–∞ - –Ω–µ—É–¥–æ–±–Ω–æ
const calc1 = new Calculator(10);
calc1.add(5);
calc1.multiply(2);
const result1 = calc1.result(); // 30

// üîç –° —á–µ–π–Ω–∏–Ω–≥–æ–º - –∫—Ä–∞—Å–∏–≤–æ –∏ –∫–æ–º–ø–∞–∫—Ç–Ω–æ
class ChainableCalculator {
  constructor(value = 0) {
    this.value = value;
  }
  
  add(num) {
    this.value += num;
    return this; // ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ–º this –¥–ª—è —á–µ–π–Ω–∏–Ω–≥–∞
  }
  
  multiply(num) {
    this.value *= num;
    return this; // ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ–º this –¥–ª—è —á–µ–π–Ω–∏–Ω–≥–∞
  }
  
  subtract(num) {
    this.value -= num;
    return this; // ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ–º this –¥–ª—è —á–µ–π–Ω–∏–Ω–≥–∞
  }
  
  result() {
    return this.value; // –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —á–µ–π–Ω–∏–Ω–≥–æ–º - –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞!
const result2 = new ChainableCalculator(10)
  .add(5)        // 15
  .multiply(2)   // 30  
  .subtract(5)   // 25
  .result();     // 25

console.log(result2); // 25
```

**üîç –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã:**

```javascript
// üîç 1. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫
class StringBuilder {
  constructor() {
    this.parts = [];
  }
  
  append(text) {
    this.parts.push(text);
    return this;
  }
  
  prepend(text) {
    this.parts.unshift(text);
    return this;
  }
  
  uppercase() {
    this.parts = this.parts.map(part => part.toUpperCase());
    return this;
  }
  
  wrap(before, after) {
    this.parts.unshift(before);
    this.parts.push(after);
    return this;
  }
  
  toString() {
    return this.parts.join('');
  }
}

// –°—Ç—Ä–æ–∏–º HTML —ç–ª–µ–º–µ–Ω—Ç —Ü–µ–ø–æ—á–∫–æ–π
const html = new StringBuilder()
  .append('Hello')
  .append(' ')
  .append('World')
  .uppercase()                    // "HELLO WORLD"
  .wrap('<h1>', '</h1>')          // "<h1>HELLO WORLD</h1>"
  .toString();

console.log(html); // "<h1>HELLO WORLD</h1>"

// üîç 2. HTTP –∫–ª–∏–µ–Ω—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
class ApiClient {
  constructor() {
    this.config = {
      headers: {},
      params: {},
      timeout: 5000
    };
  }
  
  setHeader(key, value) {
    this.config.headers[key] = value;
    return this;
  }
  
  setParam(key, value) {
    this.config.params[key] = value;
    return this;
  }
  
  auth(token) {
    return this.setHeader('Authorization', `Bearer ${token}`);
  }
  
  contentType(type) {
    return this.setHeader('Content-Type', type);
  }
  
  timeout(ms) {
    this.config.timeout = ms;
    return this;
  }
  
  async get(url) {
    const params = new URLSearchParams(this.config.params);
    const fullUrl = `${url}?${params}`;
    
    return fetch(fullUrl, {
      method: 'GET',
      headers: this.config.headers
    });
  }
}

// –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –æ–¥–Ω–æ–π —Ü–µ–ø–æ—á–∫–æ–π
const response = await new ApiClient()
  .auth('your-token-123')
  .contentType('application/json')
  .timeout(10000)
  .setParam('page', 1)
  .setParam('limit', 10)
  .get('/api/users');

// üîç 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤ (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å)
class ArrayProcessor {
  constructor(array) {
    this.data = [...array]; // –ö–æ–ø–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤
  }
  
  filter(predicate) {
    this.data = this.data.filter(predicate);
    return this;
  }
  
  map(transform) {
    this.data = this.data.map(transform);
    return this;
  }
  
  sort(compareFn) {
    this.data = this.data.sort(compareFn);
    return this;
  }
  
  unique() {
    this.data = [...new Set(this.data)];
    return this;
  }
  
  take(count) {
    this.data = this.data.slice(0, count);
    return this;
  }
  
  debug(label) {
    console.log(`${label}:`, this.data);
    return this; // –ù–µ –∏–∑–º–µ–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ, —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É–µ–º
  }
  
  get() {
    return this.data; // –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  }
}

// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ü–µ–ø–æ—á–∫–æ–π
const numbers = [5, 2, 8, 1, 9, 2, 7, 3, 8, 4];

const processed = new ArrayProcessor(numbers)
  .filter(x => x > 3)           // [5, 8, 9, 7, 8, 4]
  .debug('–ü–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞')       // –õ–æ–≥–∏—Ä—É–µ–º –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  .map(x => x * 2)              // [10, 16, 18, 14, 16, 8]
  .unique()                     // [10, 16, 18, 14, 8]
  .sort((a, b) => b - a)        // [18, 16, 14, 10, 8]
  .take(3)                      // [18, 16, 14]
  .debug('–§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç') // –õ–æ–≥–∏—Ä—É–µ–º —Ñ–∏–Ω–∞–ª
  .get();

console.log(processed); // [18, 16, 14]
```

**üîç –ß–µ–π–Ω–∏–Ω–≥ —Å —É—Å–ª–æ–≤–∏—è–º–∏:**

```javascript
// üîç –£—Å–ª–æ–≤–Ω—ã–π —á–µ–π–Ω–∏–Ω–≥
class ConditionalChain {
  constructor(value) {
    this.value = value;
  }
  
  if(condition, fn) {
    if (condition) {
      this.value = fn(this.value);
    }
    return this;
  }
  
  unless(condition, fn) {
    if (!condition) {
      this.value = fn(this.value);
    }
    return this;
  }
  
  when(condition, fn) {
    return this.if(condition, fn);
  }
  
  get() {
    return this.value;
  }
}

// –£—Å–ª–æ–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
const userInput = "  HELLO world  ";

const cleaned = new ConditionalChain(userInput)
  .if(typeof userInput === 'string', str => str.trim())
  .unless(userInput.length === 0, str => str.toLowerCase())
  .when(userInput.includes('hello'), str => str.replace('hello', 'üëã'))
  .get();

console.log(cleaned); // "üëã world"
```

**üß† –ú–Ω–µ–º–æ–Ω–∏–∫–∞ –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:**

- **Chaining** = "**–¶–µ–ø—å**" (—Å–≤—è–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥—ã –∫–∞–∫ –∑–≤–µ–Ω—å—è)
- **return this** = "**–í–µ—Ä–Ω–∏ —Å–µ–±—è**" (–º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è)
- **Fluent Interface** = "**–¢–µ–∫—É—á–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**" (–∫–æ–¥ —Ç–µ—á–µ—Ç –∫–∞–∫ –≤–æ–¥–∞)

**‚ö° –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã —á–µ–π–Ω–∏–Ω–≥–∞:**

```javascript
// üîç 1. jQuery —Å—Ç–∏–ª—å (DOM –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏)
class SimpleDOM {
  constructor(selector) {
    this.elements = document.querySelectorAll(selector);
  }
  
  addClass(className) {
    this.elements.forEach(el => el.classList.add(className));
    return this;
  }
  
  css(property, value) {
    this.elements.forEach(el => el.style[property] = value);
    return this;
  }
  
  text(content) {
    this.elements.forEach(el => el.textContent = content);
    return this;
  }
  
  on(event, handler) {
    this.elements.forEach(el => el.addEventListener(event, handler));
    return this;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∫ jQuery
// new SimpleDOM('.buttons')
//   .addClass('btn-primary')
//   .css('padding', '10px')
//   .text('Click me!')
//   .on('click', () => alert('Clicked!'));

// üîç 2. Promise —á–µ–π–Ω–∏–Ω–≥ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ JS)
fetch('/api/users')
  .then(response => response.json())
  .then(users => users.filter(u => u.active))
  .then(activeUsers => console.log(activeUsers))
  .catch(error => console.error(error));

// üîç 3. Lodash-style —á–µ–π–Ω–∏–Ω–≥
class LodashStyle {
  constructor(value) {
    this.value = value;
  }
  
  map(fn) {
    this.value = this.value.map(fn);
    return this;
  }
  
  filter(predicate) {
    this.value = this.value.filter(predicate);
    return this;
  }
  
  sortBy(key) {
    this.value = this.value.sort((a, b) => a[key] - b[key]);
    return this;
  }
  
  value() {
    return this.value; // –ó–∞–≤–µ—Ä—à–∞—é—â–∏–π –º–µ—Ç–æ–¥
  }
}

const users = [
  { name: '–ò–≤–∞–Ω', age: 25 },
  { name: '–ú–∞—Ä–∏—è', age: 30 },
  { name: '–ü–µ—Ç—Ä', age: 20 }
];

const result = new LodashStyle(users)
  .filter(user => user.age > 21)
  .sortBy('age')
  .map(user => user.name)
  .value();

console.log(result); // ['–ò–≤–∞–Ω', '–ú–∞—Ä–∏—è']
```

**‚ö° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**

```javascript
// ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —á–µ–π–Ω–∏–Ω–≥–∞:

// 1. –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å - –∫–æ–¥ —á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –∏—Å—Ç–æ—Ä–∏—è
const story = new StringBuilder()
  .append('–ñ–∏–ª-–±—ã–ª')
  .append(' ')
  .append('–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç')
  .wrap('¬´', '¬ª')
  .toString(); // "¬´–ñ–∏–ª-–±—ã–ª –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç¬ª"

// 2. –ö–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å - –º–µ–Ω—å—à–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
const result = new Calculator(100)
  .subtract(20)   // 80
  .divide(4)      // 20
  .add(5)         // 25
  .result();

// 3. –ù–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å (–µ—Å–ª–∏ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ)
const original = [1, 2, 3];
const processed = new ArrayProcessor(original)
  .map(x => x * 2)
  .filter(x => x > 4)
  .get(); // [6] (original –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è)

// ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ —á–µ–π–Ω–∏–Ω–≥–∞:

// 1. –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏
const debugResult = new Calculator(10)
  .add(5)       // –ì–¥–µ –æ—à–∏–±–∫–∞?
  .multiply(0)  // –ó–¥–µ—Å—å?
  .divide(2)    // –ò–ª–∏ –∑–¥–µ—Å—å?
  .result();    // NaN - –Ω–æ –≥–¥–µ –ø—Ä–æ–±–ª–µ–º–∞?

// 2. –ü—Ä–∏–Ω—É–∂–¥–µ–Ω–∏–µ –∫ –≤–æ–∑–≤—Ä–∞—Ç—É this
class BadExample {
  process() {
    // –•–æ—Ç–∏–º –≤–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–æ –Ω—É–∂–Ω–æ this –¥–ª—è —á–µ–π–Ω–∏–Ω–≥–∞
    const result = this.heavyCalculation();
    return this; // –¢–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç!
  }
}

// 3. –í—Å–µ –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å chainable
class Mixed {
  chainableMethod() {
    return this; // –î–ª—è —á–µ–π–Ω–∏–Ω–≥–∞
  }
  
  getValue() {
    return this.value; // –ü—Ä–µ—Ä—ã–≤–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É
  }
}
```

**–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:** –ß–µ–π–Ω–∏–Ω–≥ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–º –∏ —á–∏—Ç–∞–µ–º—ã–º, –ø–æ–∑–≤–æ–ª—è—è –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –ª–æ–≥–∏—á–µ—Å–∫—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –ö–ª—é—á ‚Äî –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `this`. –ü–æ–ø—É–ª—è—Ä–µ–Ω –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö (jQuery, Lodash) –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º JavaScript (Promise, Array methods).