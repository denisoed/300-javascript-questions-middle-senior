# –ü–æ—á–µ–º—É typeof null –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç object?

**–û—Ç–≤–µ—Ç:**

üéØ –≠—Ç–æ **–¥—Ä–µ–≤–Ω–∏–π –±–∞–≥** –≤ JavaScript, –∫–æ—Ç–æ—Ä—ã–π **–Ω–µ–ª—å–∑—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å** –∏–∑-–∑–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏. –û–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö "—Å—é—Ä–ø—Ä–∏–∑–æ–≤" —è–∑—ã–∫–∞!

```javascript
// üîç –ü–†–û–ë–õ–ï–ú–ê

console.log(typeof null); // "object" ‚ùå - —ç—Ç–æ –ù–ï –æ–±—ä–µ–∫—Ç!

console.log(typeof undefined); // "undefined" ‚úÖ
console.log(typeof true);       // "boolean" ‚úÖ  
console.log(typeof 42);         // "number" ‚úÖ
console.log(typeof "hello");    // "string" ‚úÖ
console.log(typeof {});         // "object" ‚úÖ
console.log(typeof []);         // "object" ‚úÖ (–º–∞—Å—Å–∏–≤—ã —Ç–æ–∂–µ –æ–±—ä–µ–∫—Ç—ã)
console.log(typeof function(){}); // "function" ‚úÖ

// –ù–æ null –Ω–µ –æ–±—ä–µ–∫—Ç!
console.log(null instanceof Object); // false ‚úÖ
console.log(null === null);           // true ‚úÖ
```

**üîç –ò–°–¢–û–†–ò–ß–ï–°–ö–ê–Ø –ü–†–ò–ß–ò–ù–ê:**

–í –ø–µ—Ä–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö JavaScript (1995 –≥–æ–¥) –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–ª–∏—Å—å –∫–∞–∫ **32-–±–∏—Ç–Ω—ã–µ —Å–ª–æ–≤–∞**:

- –ü–µ—Ä–≤—ã–µ **3 –±–∏—Ç–∞** = —Ç–µ–≥ —Ç–∏–ø–∞  
- –û—Å—Ç–∞–ª—å–Ω—ã–µ **29 –±–∏—Ç** = –∑–Ω–∞—á–µ–Ω–∏–µ

```javascript
// üß† –¢–∞–±–ª–∏—Ü–∞ —Ç–µ–≥–æ–≤ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º JavaScript:

// 000 - object    (–æ–±—ä–µ–∫—Ç)
// 001 - int       (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)  
// 010 - double    (—á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π)
// 100 - string    (—Å—Ç—Ä–æ–∫–∞)
// 110 - boolean   (–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)

// null –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–ª—Å—è –∫–∞–∫ 0x00000000 (–≤—Å–µ –Ω—É–ª–∏)
// –ü–µ—Ä–≤—ã–µ 3 –±–∏—Ç–∞ = 000 = object ‚ùå
```

**‚ö° –ü–†–ê–í–ò–õ–¨–ù–´–ï –°–ü–û–°–û–ë–´ –ü–†–û–í–ï–†–ö–ò:**

```javascript
// üîç –ü–†–û–í–ï–†–ö–ê –ù–ê NULL

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
if (typeof value === 'object') {
  // –°—é–¥–∞ –ø–æ–ø–∞–¥–µ—Ç –∏ null! 
}

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:
if (value === null) {
  console.log('–≠—Ç–æ null');
}

if (value !== null && typeof value === 'object') {
  console.log('–≠—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç');
}

// üîç –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –û–ü–†–ï–î–ï–õ–ï–ù–ò–Ø –¢–ò–ü–ê

function getType(value) {
  // –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ null
  if (value === null) return 'null';
  if (value === undefined) return 'undefined';
  
  // –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ–º typeof
  return typeof value;
}

// –¢–µ—Å—Ç–∏—Ä—É–µ–º:
console.log(getType(null));           // "null" ‚úÖ
console.log(getType(undefined));      // "undefined" ‚úÖ
console.log(getType(42));             // "number" ‚úÖ
console.log(getType({}));             // "object" ‚úÖ
console.log(getType([]));             // "object" ‚úÖ
console.log(getType(function(){}));   // "function" ‚úÖ

// üîç –¢–û–ß–ù–û–ï –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –¢–ò–ü–ê

function preciseType(value) {
  return Object.prototype.toString.call(value).slice(8, -1).toLowerCase();
}

// –¢–µ—Å—Ç–∏—Ä—É–µ–º –≤—Å–µ —Ç–∏–ø—ã:
console.log(preciseType(null));           // "null" ‚úÖ
console.log(preciseType(undefined));      // "undefined" ‚úÖ
console.log(preciseType(42));             // "number" ‚úÖ
console.log(preciseType("hello"));        // "string" ‚úÖ
console.log(preciseType(true));           // "boolean" ‚úÖ
console.log(preciseType({}));             // "object" ‚úÖ
console.log(preciseType([]));             // "array" ‚úÖ
console.log(preciseType(new Date()));     // "date" ‚úÖ
console.log(preciseType(/regex/));        // "regexp" ‚úÖ
console.log(preciseType(function(){}));   // "function" ‚úÖ
console.log(preciseType(new Map()));      // "map" ‚úÖ
console.log(preciseType(new Set()));      // "set" ‚úÖ
```

**üîç –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–í–ï–†–ö–ò:**

```javascript
// üö® –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò –° NULL

// ‚ùå –û—à–∏–±–∫–∞ 1: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç
function processObject(obj) {
  if (typeof obj === 'object') {
    obj.method(); // TypeError –µ—Å–ª–∏ obj = null!
  }
}

// ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
function processObject(obj) {
  if (obj !== null && typeof obj === 'object') {
    obj.method(); // –ë–µ–∑–æ–ø–∞—Å–Ω–æ!
  }
}

// ‚ùå –û—à–∏–±–∫–∞ 2: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "falsy" –æ–±—ä–µ–∫—Ç
const data = null;
if (data && typeof data === 'object') {
  // –ë–µ–∑–æ–ø–∞—Å–Ω–æ, –Ω–æ –º–æ–∂–Ω–æ –ª—É—á—à–µ
}

// ‚úÖ –õ—É—á—à–µ:
function isRealObject(value) {
  return (
    value !== null &&
    typeof value === 'object' &&
    !Array.isArray(value)
  );
}

console.log(isRealObject({}));     // true ‚úÖ
console.log(isRealObject([]));     // false ‚úÖ
console.log(isRealObject(null));   // false ‚úÖ
console.log(isRealObject('str'));  // false ‚úÖ

// üîç –ü–†–û–í–ï–†–ö–ê –ù–ê PLAIN OBJECT (–ø—Ä–æ—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç)

function isPlainObject(value) {
  if (value === null || typeof value !== 'object') {
    return false;
  }
  
  // –ò—Å–∫–ª—é—á–∞–µ–º –º–∞—Å—Å–∏–≤—ã, –¥–∞—Ç—ã, —Ä–µ–≥—É–ª—è—Ä–∫–∏ –∏ —Ç.–¥.
  if (Array.isArray(value)) return false;
  if (value instanceof Date) return false;
  if (value instanceof RegExp) return false;
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ –∏–º–µ–Ω–Ω–æ Object
  return Object.prototype.toString.call(value) === '[object Object]';
}

// –¢–µ—Å—Ç–∏—Ä—É–µ–º:
console.log(isPlainObject({}));              // true ‚úÖ
console.log(isPlainObject({ a: 1 }));        // true ‚úÖ
console.log(isPlainObject([]));              // false ‚úÖ
console.log(isPlainObject(null));            // false ‚úÖ
console.log(isPlainObject(new Date()));      // false ‚úÖ
console.log(isPlainObject(/regex/));         // false ‚úÖ
console.log(isPlainObject(function(){}));    // false ‚úÖ

// üîç –ë–ï–ó–û–ü–ê–°–ù–ê–Ø –†–ê–ë–û–¢–ê –° –û–ë–™–ï–ö–¢–ê–ú–ò

function safeObjectAccess(obj, key) {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ obj –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ–±—ä–µ–∫—Ç
  if (obj === null || typeof obj !== 'object') {
    return undefined;
  }
  
  return obj[key];
}

// –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
console.log(safeObjectAccess(null, 'name'));        // undefined (–Ω–µ —É–ø–∞–¥–µ—Ç)
console.log(safeObjectAccess({ name: '–ò–≤–∞–Ω' }, 'name')); // "–ò–≤–∞–Ω"
console.log(safeObjectAccess([], 'length'));        // 0 (–º–∞—Å—Å–∏–≤ —Ç–æ–∂–µ –æ–±—ä–µ–∫—Ç)

// üîç –ü–û–õ–ï–ó–ù–ê–Ø –£–¢–ò–õ–ò–¢–ê –î–õ–Ø –û–¢–õ–ê–î–ö–ò

function debugType(value, label = 'value') {
  console.log(`${label}:`, {
    value: value,
    typeof: typeof value,
    precise: preciseType(value),
    isNull: value === null,
    isUndefined: value === undefined,
    isArray: Array.isArray(value),
    constructor: value?.constructor?.name
  });
}

// –¢–µ—Å—Ç–∏—Ä—É–µ–º:
debugType(null, 'null');
debugType({}, 'object');
debugType([], 'array');
debugType(function(){}, 'function');

// –í—ã–≤–µ–¥–µ—Ç:
// null: { value: null, typeof: "object", precise: "null", isNull: true, ... }
// object: { value: {}, typeof: "object", precise: "object", isNull: false, ... }
```

**üß† –ö–∞–∫ –∑–∞–ø–æ–º–Ω–∏—Ç—å?**
- **typeof null** = **"object"** (–æ—à–∏–±–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏) 
- **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ** `value === null` **–æ—Ç–¥–µ–ª—å–Ω–æ**
- **null ‚â† object**, —ç—Ç–æ **–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è**

**‚ö° –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**

```javascript
// Nullish coalescing (ES2020)
const name = user?.name ?? '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';

// Optional chaining (ES2020)  
const city = user?.address?.city;

// –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å null
if (user == null) {  // null –ò–õ–ò undefined
  console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω');
}

if (user === null) {  // —Ç–æ–ª—å–∫–æ null
  console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–Ω–æ null');
}
```

**üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫:**

| –ó–Ω–∞—á–µ–Ω–∏–µ | `typeof` | `=== null` | `== null` | `Boolean()` |
|----------|----------|------------|-----------|-------------|
| `null` | "object" ‚ùå | true ‚úÖ | true ‚úÖ | false ‚úÖ |
| `undefined` | "undefined" ‚úÖ | false ‚úÖ | true ‚ùå | false ‚úÖ |
| `{}` | "object" ‚úÖ | false ‚úÖ | false ‚úÖ | true ‚úÖ |
| `[]` | "object" ‚úÖ | false ‚úÖ | false ‚úÖ | true ‚úÖ |
| `0` | "number" ‚úÖ | false ‚úÖ | false ‚úÖ | false ‚úÖ |

**–í—ã–≤–æ–¥:**
`typeof null === "object"` ‚Äî —ç—Ç–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –±–∞–≥. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `value === null` –¥–ª—è —Ç–æ—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ null! 