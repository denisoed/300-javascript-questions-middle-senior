# encodeURI vs encodeURIComponent - –≤ —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞?

## –û—Ç–≤–µ—Ç

üéØ **–î–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è URL**, –Ω–æ —Å —Ä–∞–∑–Ω–æ–π "–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç—å—é". `encodeURI` –±–æ–ª–µ–µ –º—è–≥–∫–∏–π, `encodeURIComponent` –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–π.

### üîç –ö–ª—é—á–µ–≤–∞—è —Ä–∞–∑–Ω–∏—Ü–∞

```javascript
const url = "https://site.com/search?query=hello world&category=tech";

// encodeURI - "–º—è–≥–∫–æ–µ" –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É URL)
console.log(encodeURI(url));
// "https://site.com/search?query=hello%20world&category=tech"
// –û—Å—Ç–∞–≤–ª—è–µ—Ç :, /, ?, &, = –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—ç—Ç–æ –≤–∞–ª–∏–¥–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã URL)

// encodeURIComponent - "–∂–µ—Å—Ç–∫–æ–µ" –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫–æ–¥–∏—Ä—É–µ—Ç –í–°–Å)
console.log(encodeURIComponent(url));
// "https%3A%2F%2Fsite.com%2Fsearch%3Fquery%3Dhello%20world%26category%3Dtech"
// –ö–æ–¥–∏—Ä—É–µ—Ç –í–°–ï —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã, –≤–∫–ª—é—á–∞—è :, /, ?, &, =
```

### üîç –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

```javascript
// –°–∏–º–≤–æ–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –∫–æ–¥–∏—Ä—É—é—Ç—Å—è

// encodeURI –æ—Å—Ç–∞–≤–ª—è–µ—Ç —ç—Ç–∏ —Å–∏–º–≤–æ–ª—ã:
const uriSafe = "; , / ? : @ & = + $ # - _ . ! ~ * ' ( )";
console.log(encodeURI(uriSafe));
// "; , / ? : @ & = + $ # - _ . ! ~ * ' ( )" (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

// encodeURIComponent –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —ç—Ç–∏:
const componentSafe = "- _ . ! ~ * ' ( )";
console.log(encodeURIComponent(componentSafe));
// "- _ . ! ~ * ' ( )" (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

// –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∫–æ–¥–∏—Ä—É—é—Ç—Å—è!
console.log(encodeURIComponent("; , / ? : @ & = + $ #"));
// "%3B%20%2C%20%2F%20%3F%20%3A%20%40%20%26%20%3D%20%2B%20%24%20%23"
```

### üîç –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

#### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ encodeURI –¥–ª—è –ø–æ–ª–Ω—ã—Ö URL

```javascript
const baseUrl = "https://api.example.com/search?q=hello world";
const encoded = encodeURI(baseUrl);
// "https://api.example.com/search?q=hello%20world"
// ‚úÖ URL –æ—Å—Ç–∞–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º –∏ —Ä–∞–±–æ—á–∏–º

// –ü—Ä–∏–º–µ—Ä —Å –ø–æ–ª–Ω—ã–º URL
const fullUrl = "https://site.com/path/—Ñ–∞–π–ª.html?param=–∑–Ω–∞—á–µ–Ω–∏–µ&–¥—Ä—É–≥–æ–π=–ø–∞—Ä–∞–º–µ—Ç—Ä";
console.log(encodeURI(fullUrl));
// "https://site.com/path/%D1%84%D0%B0%D0%B9%D0%BB.html?param=%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5&%D0%B4%D1%80%D1%83%D0%B3%D0%BE%D0%B9=%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80"

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ URL —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞, –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å
window.location.href = encodeURI(fullUrl);
```

#### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ encodeURIComponent –¥–ª—è —á–∞—Å—Ç–µ–π URL

```javascript
const query = "hello & goodbye";
const category = "fun/games";
const fullUrl = `https://site.com/search?q=${encodeURIComponent(query)}&cat=${encodeURIComponent(category)}`;
// "https://site.com/search?q=hello%20%26%20goodbye&cat=fun%2Fgames"
// ‚úÖ –ß–∞—Å—Ç–∏ URL –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã

// –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –ø—Ä–∏–º–µ—Ä
const searchParams = {
  query: "JavaScript & TypeScript",
  category: "programming/web",
  tags: "frontend, backend",
  date: "2024-01-01"
};

const queryString = Object.entries(searchParams)
  .map(([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`)
  .join('&');

const apiUrl = `https://api.example.com/search?${queryString}`;
console.log(apiUrl);
// "https://api.example.com/search?query=JavaScript%20%26%20TypeScript&category=programming%2Fweb&tags=frontend%2C%20backend&date=2024-01-01"
```

### üîç –û–ø–∞—Å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

```javascript
// ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ encodeURI –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
const wrong = `https://site.com/search?q=${encodeURI("a&b=c")}`;
// "https://site.com/search?q=a&b=c" 
// –°–∏–º–≤–æ–ª—ã & –∏ = –ù–ï –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã - URL —Å–ª–æ–º–∞–Ω!

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - encodeURIComponent –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
const correct = `https://site.com/search?q=${encodeURIComponent("a&b=c")}`;
// "https://site.com/search?q=a%26b%3Dc"
// –í—Å–µ —Å–∏–º–≤–æ–ª—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã

// ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ encodeURIComponent –¥–ª—è –ø–æ–ª–Ω—ã—Ö URL
const brokenUrl = encodeURIComponent("https://site.com/path");
// "https%3A%2F%2Fsite.com%2Fpath"
// URL –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–ª–æ–º–∞–Ω - –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–π–º–µ—Ç!
```

### üîç –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

#### 1Ô∏è‚É£ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ URL –¥–ª—è API

```javascript
function buildApiUrl(baseUrl, endpoint, params = {}) {
  // –ö–æ–¥–∏—Ä—É–µ–º base URL
  const encodedBase = encodeURI(baseUrl);
  
  // –ö–æ–¥–∏—Ä—É–µ–º endpoint
  const encodedEndpoint = encodeURIComponent(endpoint);
  
  // –ö–æ–¥–∏—Ä—É–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  const queryString = Object.entries(params)
    .map(([key, value]) => 
      `${encodeURIComponent(key)}=${encodeURIComponent(value)}`
    )
    .join('&');
  
  return `${encodedBase}/${encodedEndpoint}${queryString ? '?' + queryString : ''}`;
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const apiUrl = buildApiUrl(
  'https://api.example.com',
  'search/users',
  {
    name: '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤',
    city: '–ú–æ—Å–∫–≤–∞/–¶–µ–Ω—Ç—Ä',
    tags: 'developer, javascript'
  }
);

console.log(apiUrl);
// "https://api.example.com/search%2Fusers?name=%D0%98%D0%B2%D0%B0%D0%BD%20%D0%9F%D0%B5%D1%82%D1%80%D0%BE%D0%B2&city=%D0%9C%D0%BE%D1%81%D0%BA%D0%B2%D0%B0%2F%D0%A6%D0%B5%D0%BD%D1%82%D1%80&tags=developer%2C%20javascript"
```

#### 2Ô∏è‚É£ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```javascript
function safeRedirect(url) {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ –≤–∞–ª–∏–¥–Ω—ã–π URL
  try {
    new URL(url);
    // –ö–æ–¥–∏—Ä—É–µ–º –≤–µ—Å—å URL –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    window.location.href = encodeURI(url);
  } catch (error) {
    console.error('–ù–µ–≤–∞–ª–∏–¥–Ω—ã–π URL:', error);
  }
}

// –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
safeRedirect('https://example.com/page with spaces.html');
safeRedirect('https://example.com/–ø–æ–∏—Å–∫?–∑–∞–ø—Ä–æ—Å=—Ç–µ—Å—Ç');
```

#### 3Ô∏è‚É£ –†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞–º–∏

```javascript
function submitSearchForm(form) {
  const formData = new FormData(form);
  const params = {};
  
  // –°–æ–±–∏—Ä–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ —Ñ–æ—Ä–º—ã
  for (const [key, value] of formData.entries()) {
    params[key] = value;
  }
  
  // –°—Ç—Ä–æ–∏–º URL –ø–æ–∏—Å–∫–∞
  const searchUrl = new URL(form.action);
  Object.entries(params).forEach(([key, value]) => {
    searchUrl.searchParams.set(key, value); // URLSearchParams –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–¥–∏—Ä—É–µ—Ç
  });
  
  // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - —Ä—É—á–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
  const manualUrl = form.action + '?' + 
    Object.entries(params)
      .map(([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`)
      .join('&');
  
  console.log('–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:', searchUrl.toString());
  console.log('–í—Ä—É—á–Ω—É—é:', manualUrl);
}
```

### üîç –û–±—Ä–∞—Ç–Ω–æ–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ

```javascript
// –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è –æ–±–µ–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
const encoded = "Hello%20World%21";
console.log(decodeURI(encoded));          // "Hello World!"
console.log(decodeURIComponent(encoded)); // "Hello World!"

// –ù–æ –µ—Å—Ç—å –Ω—é–∞–Ω—Å—ã —Å –ø–æ–ª–Ω—ã–º–∏ URL
const encodedUrl = "https%3A%2F%2Fsite.com%2Fpath";
console.log(decodeURI(encodedUrl));          // "https%3A%2F%2Fsite.com%2Fpath" (–Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é)
console.log(decodeURIComponent(encodedUrl)); // "https://site.com/path" (–ø–æ–ª–Ω–æ—Å—Ç—å—é)

// –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ URL
function getUrlParams(url) {
  const params = {};
  const urlObj = new URL(url);
  
  for (const [key, value] of urlObj.searchParams.entries()) {
    params[decodeURIComponent(key)] = decodeURIComponent(value);
  }
  
  return params;
}

const url = "https://site.com/search?name=John%20Doe&city=New%20York";
console.log(getUrlParams(url)); // { name: "John Doe", city: "New York" }
```

### üîç –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã

```javascript
// URL API - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å URL
const url = new URL('https://site.com/search');
url.searchParams.set('query', 'hello & world');
url.searchParams.set('category', 'fun/games');
console.log(url.toString());
// "https://site.com/search?query=hello+%26+world&category=fun%2Fgames"

// URLSearchParams - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
const params = new URLSearchParams();
params.set('name', '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤');
params.set('city', '–ú–æ—Å–∫–≤–∞/–¶–µ–Ω—Ç—Ä');
console.log(params.toString());
// "name=%D0%98%D0%B2%D0%B0%D0%BD+%D0%9F%D0%B5%D1%82%D1%80%D0%BE%D0%B2&city=%D0%9C%D0%BE%D1%81%D0%BA%D0%B2%D0%B0%2F%D0%A6%D0%B5%D0%BD%D1%82%D1%80"

// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
function encodeUrlSafely(baseUrl, path = '', params = {}) {
  const url = new URL(path, baseUrl);
  
  Object.entries(params).forEach(([key, value]) => {
    url.searchParams.set(key, value);
  });
  
  return url.toString();
}

const safeUrl = encodeUrlSafely(
  'https://api.example.com',
  '/search/users',
  { name: 'John & Jane', category: 'admin/users' }
);
console.log(safeUrl);
```

### üîç –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ê—Å–ø–µ–∫—Ç | **encodeURI** | **encodeURIComponent** |
|--------|---------------|------------------------|
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** | –ü–æ–ª–Ω—ã–µ URL | –ß–∞—Å—Ç–∏ URL |
| **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç** | `:/?#[]@!$&'()*+,;=` | –¢–æ–ª—å–∫–æ `!*'()` |
| **–ö–æ–¥–∏—Ä—É–µ—Ç** | –ü—Ä–æ–±–µ–ª—ã, –∫–∏—Ä–∏–ª–ª–∏—Ü–∞ | –í—Å–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ |
| **–ü—Ä–∏–º–µ—Ä** | `https://site.com/path` | `name=John%20Doe` |

### üîç –ü–æ–ª–µ–∑–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞, –Ω—É–∂–Ω–æ –ª–∏ –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å
function needsEncoding(str) {
  return str !== encodeURIComponent(str);
}

console.log(needsEncoding('hello'));        // false
console.log(needsEncoding('hello world'));  // true
console.log(needsEncoding('hello&world'));  // true

// –£–º–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
function smartEncode(str, isFullUrl = false) {
  if (isFullUrl) {
    return encodeURI(str);
  } else {
    return encodeURIComponent(str);
  }
}

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
function safeDecode(str) {
  try {
    return decodeURIComponent(str);
  } catch (error) {
    console.warn('–û—à–∏–±–∫–∞ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è:', error);
    return str;
  }
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ URL
function isValidUrl(str) {
  try {
    new URL(str);
    return true;
  } catch {
    return false;
  }
}
```

### üß† –ö–∞–∫ –∑–∞–ø–æ–º–Ω–∏—Ç—å?

- **encodeURI** = "**–í–µ—Å—å URL**" (–¥–ª—è –ø–æ–ª–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤)
- **encodeURIComponent** = "**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç URL**" (–¥–ª—è —á–∞—Å—Ç–µ–π)
- **URI** = "**–ú—è–≥–∫–∏–π**" (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É)
- **URIComponent** = "**–ñ–µ—Å—Ç–∫–∏–π**" (–∫–æ–¥–∏—Ä—É–µ—Ç –≤—Å—ë)

### ‚ö° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞

‚úÖ **encodeURI** –¥–ª—è –ø–æ–ª–Ω—ã—Ö URL –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π  
‚úÖ **encodeURIComponent** –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –∑–Ω–∞—á–µ–Ω–∏–π  
‚úÖ **URL API** –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π  
‚úÖ **–í—Å–µ–≥–¥–∞ –¥–µ–∫–æ–¥–∏—Ä—É–π—Ç–µ** –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

---

**–í—ã–≤–æ–¥:** `encodeURI` –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ–ª–Ω—ã—Ö URL, `encodeURIComponent` - –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ü–µ—Ä–≤—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É URL, –≤—Ç–æ—Ä–æ–π –∫–æ–¥–∏—Ä—É–µ—Ç –≤—Å–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã. –î–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å URL API. 